extends layout.pug

block view
    // ================= main start ================
    #main
        // =============== header ===============
        header
            // Nav button
            .nav-button
                span.nos
                span.ncs
                span.nbs
                .nav-text #{text.menu}
            // Nav button end
            // Logo
            .logo-holder
                a(href=base_url)
                    img(width='120' src=static_folder_path + '/images/logo.png' alt='')
            // Logo  end
            // header-lang
            .header-lang
                ul
                    each language_item in languages
                        li
                            a(href="javascript:redirectToLanguage('" + language_item.title + "', '" + language_item.base_url + "/" + current_slug + "')" class=language_item.is_selected === true ? "header-lang-active" : "") #{language_item.title}
            // header-lang end
        // Header   end
        // =============== wrapper ===============
        #wrapper
            // =============== content-holder ===============
            .content-holder.scale-bg2
                // Navigation
                .nav-overlay
                .nav-inner.isDown
                    #hid-men
                        ul.menu
                            li
                                a(href=base_url class=selected_menu_option === home.menu_item_id ? "act-link" : "") #{home.title}
                            li
                                a(href=base_url + '/' + about.url class=selected_menu_option === about.menu_item_id ? "act-link" : "") #{about.title}
                            li
                                a(href='#'  class=selected_works_is_active === true ? "act-link" : "") #{text.selected_works}
                                // works
                                ul
                                    each work_item in works
                                        if work_item.menu_item_visible
                                            li
                                                a(href=base_url  + '/work/' + work_item.slug class=selected_menu_option === work_item.menu_item_id ? "act-link" : "") #{work_item.title}
                                // works end
                            li
                                a(href=base_url + '/' + contact.url class=selected_menu_option === contact.menu_item_id ? "act-link" : "") #{contact.title}
                // Navigation end
            
                block view_content

            // content-holder end
        // wrapper end
        // =============== footer ===============
        footer
            .policy-box
                span
                    | #{footer.policy} / 
                    a(href=base_url + '/' + terms_conditions.url class="terms-conditions") #{terms_conditions.title}
            .footer-social
                ul
                    li
                        a(href=footer.social.instagram.url, target='_blank')
                            i.fa.fa-instagram
                            span #{footer.social.instagram.title}
                    li
                        a(href=footer.social.linkedin.url, target='_blank')
                            i.fa.fa-linkedin
                            span #{footer.social.linkedin.title}
        // footer end
        // =============== cookies ===============
        //- #cookie_consent_notification_overlay
        #cookie_consent_notification.flex-box
            p !{cookie_policy.text.consent_notification_line_1}
            button.accept.btn(onclick='acceptCookieConsent(); return false;')
                span #{cookie_policy.text.consent_notification_accept}
        // cookies end
        // Main end

block append scripts
    script(type='text/javascript').
        function checkCookieConsentStatus() {
            let consented = ((document.cookie.match(/^(?:.*;)?\s*brunocostagallery.cookie_consent_status\s*=\s*([^;]+)(?:.*)?$/)||[,null])[1]) === 'allow';
            if(!consented) {
                let htmlElement = document.querySelector('html');
                htmlElement.classList.add('show_cookie_consent_notification');
            }
        }
        function acceptCookieConsent() {
            let expiresDays = 730;
            let expires = '';
            let date = new Date();
            date.setTime(date.getTime() + (expiresDays*24*60*60*1000));
            expires = '; expires=' + date.toUTCString();
            document.cookie = 'brunocostagallery.cookie_consent_status' + '=allow' + expires + '; path=/';
            
            let htmlElement = document.querySelector('html');
            htmlElement.classList.remove('show_cookie_consent_notification');
        }

block append scripts
    if (cookie_policy_enabled)
        script(type='text/javascript').
            checkCookieConsentStatus();
